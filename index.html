

<!doctype html>
<html>
<head>
<title>Search</title>
</head>
<body>
  <div id="buttons">
  <label> <input id="song" value='song' type="text"/>
    <input id="artist" value='artist' type="text"/><button id="search-button"  onclick="keyWordsearch()">Search</button></label>
  </div>
<iframe id="myIframe" width="640" height="400"></iframe>
<iframe id="parodyIframe" width="640" height="400"></iframe>

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');
      var str;
      var request;

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.


      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 6000);
          done = true;
        }
      }
      function stopVideo() {
        player.stopVideo();
      }

    function keyWordsearch(){
      // debugger;
            gapi.client.setApiKey('AIzaSyCvjqLF84b-96a8p5KeWKutbiqy3f9SsYA');
            gapi.client.load('youtube', 'v3', function() {
            makeRequest();
            makeRequest2();

            });
    }
    function makeRequest() {
            var q = $('#song').val() + $('#artist').val();
            console.log(q);
            var request = gapi.client.youtube.search.list({
             q:q,
             part:"id",
             type:"video",
             fields:"items/id/videoId"
            });
            request.execute(function(response) {
              // debugger;
                    var str = JSON.stringify(response.items[0].id.videoId);
                    str = str.replace(/[^\w\s]/gi, '')
                    console.log(str);
                    var url = "https://www.youtube.com/embed/" + str+ "?autoplay=1";
                    console.log(url);
                    $('#myIframe').attr('src', url)




                    console.log(str);
            });
    }

    function makeRequest2() {
            var q = $('#song').val() + $('#artist').val() + "parody";
            console.log(q);
            var request = gapi.client.youtube.search.list({
             q:q,
             part:"id",
             type:"video",
             fields:"items/id/videoId"
            });
            request.execute(function(response) {
              // debugger;
                    var str = JSON.stringify(response.items[0].id.videoId);
                    str = str.replace(/[^\w\s]/gi, '')
                    console.log(str);
                    var url = "https://www.youtube.com/embed/" + str + "?autoplay=1";
                    console.log(url);
                    $('#parodyIframe').attr('src', url)




                    console.log(str);
            });
    }
 </script>

 <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
 <script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"> </script>
</body>
</html>
